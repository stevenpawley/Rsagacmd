<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Rsagacmd: Linking R with the open-source SAGA-GIS software. — Rsagacmd • Rsagacmd</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Rsagacmd: Linking R with the open-source SAGA-GIS software. — Rsagacmd"><meta property="og:description" content="Rsagacmd provides an R scripting interface to the open-source System
for Automated Geoscientific Analyses Geographical Information System software
SAGA-GIS. The current
version has been tested using SAGA-GIS versions 2.3.1 to 9.2 on Windows
(x64), macOS and Linux. Rsagacmd provides a functional approach to scripting
with SAGA-GIS by dynamically generating R functions for every SAGA-GIS tool
based on the user's current SAGA-GIS installation. These functions are
generated by the saga_gis function and are included within an
S3 object as a named list of libraries and tools. This structure facilitates
an easier scripting experience by organizing the large number of SAGA-GIS
tools (&amp;gt;700) by their respective library. Interactive scripting can also
fully take advantage of code autocompletion tools (e.g. in
Rstudio), allowing for each tool's syntax to
be quickly recognized. Furthermore, the most common types of spatial data
(rasters using the terra and stars packages, and vector data
using sp, sf or terra packages) along with non-spatial data
are seamlessly passed from R to the SAGA-GIS command line tool for
geoprocessing operations, and the results are automatically loaded as the
appropriate R object. Outputs from individual SAGA-GIS tools can also be
chained using pipes from the magrittr and dplyr packages to chain
complex geoprocessing operations together in a single statement."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Rsagacmd</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/stevenpawley/Rsagacmd/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Rsagacmd: Linking R with the open-source SAGA-GIS software.</h1>
    <small class="dont-index">Source: <a href="https://github.com/stevenpawley/Rsagacmd/blob/HEAD/R/Rsagacmd-package.R" class="external-link"><code>R/Rsagacmd-package.R</code></a></small>
    <div class="hidden name"><code>Rsagacmd.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><span class="pkg">Rsagacmd</span> provides an R scripting interface to the open-source System
for Automated Geoscientific Analyses Geographical Information System software
<a href="https://sourceforge.net/projects/saga-gis/" class="external-link">SAGA-GIS</a>. The current
version has been tested using SAGA-GIS versions 2.3.1 to 9.2 on Windows
(x64), macOS and Linux. Rsagacmd provides a functional approach to scripting
with SAGA-GIS by dynamically generating R functions for every SAGA-GIS tool
based on the user's current SAGA-GIS installation. These functions are
generated by the <code><a href="saga_gis.html">saga_gis</a></code> function and are included within an
S3 object as a named list of libraries and tools. This structure facilitates
an easier scripting experience by organizing the large number of SAGA-GIS
tools (&gt;700) by their respective library. Interactive scripting can also
fully take advantage of code autocompletion tools (e.g. in
<a href="https://posit.co" class="external-link">Rstudio</a>), allowing for each tool's syntax to
be quickly recognized. Furthermore, the most common types of spatial data
(rasters using the <span class="pkg">terra</span> and <span class="pkg">stars</span> packages, and vector data
using <span class="pkg">sp</span>, <span class="pkg">sf</span> or <span class="pkg">terra</span> packages) along with non-spatial data
are seamlessly passed from R to the SAGA-GIS command line tool for
geoprocessing operations, and the results are automatically loaded as the
appropriate R object. Outputs from individual SAGA-GIS tools can also be
chained using pipes from the <span class="pkg">magrittr</span> and <span class="pkg">dplyr</span> packages to chain
complex geoprocessing operations together in a single statement.</p>
    </div>


    <div id="handling-of-geospatial-and-tabular-data">
    <h2>Handling of geospatial and tabular data</h2>
    <p>Rsagacmd aims to facilitate
  a seamless interface to the open-source SAGA-GIS by providing access to all
  SAGA-GIS geoprocessing tools in a 'R-like' manner. In addition to
  generating R functions that correspond to each SAGA-GIS tool, Rsagacmd
  automatically handles the passing of geospatial and tabular data contained
  from the R environment to SAGA-GIS.</p>
<p>Rsagacmd uses the SAGA-GIS command line interface to perform geoprocessing
operations. Therefore, spatial data can be passed to any Rsagacmd function as
a path to the input data, assuming that the data is stored in the appropriate
file formats (e.g. GDAL-supported single-band rasters, OGR supported vector
data, and comma- or tab-delimited text files for tabular data). In addition,
Rsagacmd also supports the following R object classes to pass data to
SAGA-GIS, and to load the results back into the R environment:</p><ul><li><p>Raster data handling is provided by the R <span class="pkg">terra</span> and <span class="pkg">stars</span>
packages. Raster-based outputs from SAGA-GIS tools are loaded as SpatRaster
or stars objects. For more details, see the 'Handling of raster data'.</p></li>
<li><p>Vector features that result from SAGA-GIS geoprocessing operations are
output in ESRI Shapefile format and are loaded into the R environment as
simple features objects</p></li>
<li><p>Tabular data from SAGA-GIS tools are loaded as data frames</p></li>
</ul><p>The results from tools that return multiple outputs are loaded into the R
environment as a named list of the appropriate R object classes.</p>
    </div>
    <div id="multi-band-raster-data">
    <h2>Multi-band raster data</h2>
    <p>SAGA-GIS does not handle multi-band rasters
  and the native SAGA GIS Binary file format (.sgrd) supports only single
  band data. Therefore when passing raster data to most SAGA-GIS tools using
  Rsagacmd, the data should represent single raster bands. Subsetting of
  raster data is performed automatically by Rsagacmd in the case of when a
  single band from a multiband SpatRaster or stars object is passed to a
  SAGA-GIS tool. This occurs in by either passing the filename of the raster
  to the SAGA-GIS command line, or by writing the data to a temporary file.</p>
    </div>
    <div id="combining-saga-gis-tools-with-pipes">
    <h2>Combining SAGA-GIS tools with pipes</h2>
    <p>For convenience, outputs from
  SAGA-GIS tools are automatically saved to tempfiles if outputs are not
  explicitly stated as arguments when calling the function. This was
  implemented so that the user can create complex workflows based on little
  code. It is also means that several processing steps can be combined or
  chained in a convenient manner using pipes from the <span class="pkg">magritrr</span> package.
  When using pipes, all of the intermediate processing steps are dealt with
  automatically by saving the outputs as tempfiles, and then in turn passing
  the output to the next function in the chain. Note that when dealing with
  high-resolution and/or larger raster data, these tempfiles can start to
  consume a significant amount of disk space during a session. If required,
  these temporary files can be cleaned during the session using the
  saga_remove_tmpfiles function.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Useful links:</p><ul><li><p><a href="https://stevenpawley.github.io/Rsagacmd/" class="external-link">https://stevenpawley.github.io/Rsagacmd/</a></p></li>
<li><p>Report bugs at <a href="https://github.com/stevenpawley/Rsagacmd/issues" class="external-link">https://github.com/stevenpawley/Rsagacmd/issues</a></p></li>
</ul></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p><strong>Maintainer</strong>: Steven Pawley <a href="mailto:dr.stevenpawley@gmail.com">dr.stevenpawley@gmail.com</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://stevenpawley.github.io/Rsagacmd/" class="external-link">Rsagacmd</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># initialize a saga object</span></span></span>
<span class="r-in"><span><span class="va">saga</span> <span class="op">&lt;-</span> <span class="fu"><a href="saga_gis.html">saga_gis</a></span><span class="op">(</span>opt_lib <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"grid_calculus"</span>, <span class="st">"ta_morphometry"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># example of executing a tool using a tempfile to store the tool outputs</span></span></span>
<span class="r-in"><span><span class="va">dem</span> <span class="op">&lt;-</span> <span class="va">saga</span><span class="op">$</span><span class="va">grid_calculus</span><span class="op">$</span><span class="fu">random_terrain</span><span class="op">(</span>radius <span class="op">=</span> <span class="fl">100</span>, iterations <span class="op">=</span> <span class="fl">500</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example of chaining operations using pipes and using tempfile to</span></span></span>
<span class="r-in"><span><span class="co"># store tool outputs</span></span></span>
<span class="r-in"><span><span class="va">tri</span> <span class="op">&lt;-</span> <span class="va">dem</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="va">saga</span><span class="op">$</span><span class="va">ta_morphometry</span><span class="op">$</span><span class="fu">terrain_ruggedness_index_tri</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Remove tempfiles generated by Rsagacmd during a session</span></span></span>
<span class="r-in"><span><span class="fu"><a href="saga_remove_tmpfiles.html">saga_remove_tmpfiles</a></span><span class="op">(</span>h <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Steven Pawley.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

