<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Initiate a SAGA-GIS geoprocessor object — saga_gis • Rsagacmd</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Initiate a SAGA-GIS geoprocessor object — saga_gis"><meta property="og:description" content="Dynamically generates functions to all valid SAGA-GIS libraries and tools.
These functions are stored within a saga S3 object as a named list of
functions"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Rsagacmd</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/stevenpawley/Rsagacmd/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Initiate a SAGA-GIS geoprocessor object</h1>
    <small class="dont-index">Source: <a href="https://github.com/stevenpawley/Rsagacmd/blob/HEAD/R/saga-gis.R" class="external-link"><code>R/saga-gis.R</code></a></small>
    <div class="hidden name"><code>saga_gis.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Dynamically generates functions to all valid SAGA-GIS libraries and tools.
These functions are stored within a saga S3 object as a named list of
functions</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">saga_gis</span><span class="op">(</span></span>
<span>  saga_bin <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  grid_caching <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  grid_cache_threshold <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  grid_cache_dir <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cores <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  raster_backend <span class="op">=</span> <span class="st">"terra"</span>,</span>
<span>  vector_backend <span class="op">=</span> <span class="st">"sf"</span>,</span>
<span>  raster_format <span class="op">=</span> <span class="st">"SAGA"</span>,</span>
<span>  vector_format <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ESRI Shapefile"</span>, <span class="st">"GeoPackage"</span><span class="op">)</span>,</span>
<span>  all_outputs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  intern <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  opt_lib <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  temp_path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-saga-bin">saga_bin<a class="anchor" aria-label="anchor" href="#arg-saga-bin"></a></dt>
<dd><p>The path to saga_cmd executable. If this argument
is not supplied then an automatic search for the saga_cmd executable will
be performed.</p></dd>


<dt id="arg-grid-caching">grid_caching<a class="anchor" aria-label="anchor" href="#arg-grid-caching"></a></dt>
<dd><p>A logical whether to use file caching in saga_cmd
geoprocessing operations for rasters that are too large to fit into memory.</p></dd>


<dt id="arg-grid-cache-threshold">grid_cache_threshold<a class="anchor" aria-label="anchor" href="#arg-grid-cache-threshold"></a></dt>
<dd><p>A number to act as a threshold (in Mb) before
file caching is activated for loaded raster data.</p></dd>


<dt id="arg-grid-cache-dir">grid_cache_dir<a class="anchor" aria-label="anchor" href="#arg-grid-cache-dir"></a></dt>
<dd><p>The path to directory for temporary files generated by
file caching. If not provided then the result from `base::tempdir()` is
used.</p></dd>


<dt id="arg-cores">cores<a class="anchor" aria-label="anchor" href="#arg-cores"></a></dt>
<dd><p>An integer for the maximum number of processing cores. By
default all cores are utilized. Needs to be set to 1 if file caching is
activated.</p></dd>


<dt id="arg-raster-backend">raster_backend<a class="anchor" aria-label="anchor" href="#arg-raster-backend"></a></dt>
<dd><p>A character vector to specify the library to use for
handling raster data. Supported options are "terra" or "stars".
The default is "terra".</p></dd>


<dt id="arg-vector-backend">vector_backend<a class="anchor" aria-label="anchor" href="#arg-vector-backend"></a></dt>
<dd><p>A character to specify the library to use for handling
vector data. Currently, "sf", "SpatVector" or "SpatVectorProxy" is
supported. The default is "sf", however for large vector datasets, using
the "SpatVectorProxy" backend from the `terra` package has performance
advantages because it allows file-based which can reduce repeated
reading/writing when passing data between R and SAGA-GIS.</p></dd>


<dt id="arg-raster-format">raster_format<a class="anchor" aria-label="anchor" href="#arg-raster-format"></a></dt>
<dd><p>A character to specify the default format used to save
raster data sets that are produced by SAGA-GIS. Available options are one
of "SAGA", "SAGA Compressed" or "GeoTIFF". The default is "SAGA".</p></dd>


<dt id="arg-vector-format">vector_format<a class="anchor" aria-label="anchor" href="#arg-vector-format"></a></dt>
<dd><p>A character to specify the default format used for
vector data sets that are produced by SAGA-GIS, and also used to save
in-memory objects to be read by SAGA-GIS. Available options are of of "ESRI
Shapefile", "GeoPackage", or "GeoJSON". The default is "ESRI Shapefile" for
SAGA versions &lt; 7.0 and GeoPackage for more recent versions. Attempting to
use anything other than "ESRI Shapefile" for SAGA-GIS versions &lt; 7.0 will
raise an error.</p></dd>


<dt id="arg-all-outputs">all_outputs<a class="anchor" aria-label="anchor" href="#arg-all-outputs"></a></dt>
<dd><p>A logical to indicate whether to automatically use
temporary files to store all output data sets from each SAGA-GIS tool.
Default = TRUE. This argument can be overridden by the `.all_outputs`
parameter on each individual SAGA-GIS tool function that is generated by
`Rsagacmd::saga_gis()`.</p></dd>


<dt id="arg-intern">intern<a class="anchor" aria-label="anchor" href="#arg-intern"></a></dt>
<dd><p>A logical to indicate whether to load the SAGA-GIS
geoprocessing results as an R object, default = TRUE. For instance, if a
raster grid is output by SAGA-GIS then this will be loaded as either as
a `SpatRaster` or `stars` object, depending on the `raster_backend`
setting that is used. Vector data sets are always loaded as `sf` objects,
and tabular data sets are loaded as tibbles. The `intern` settings for the
`saga` object can be overridden for individual tools using the `.intern`
argument.</p></dd>


<dt id="arg-opt-lib">opt_lib<a class="anchor" aria-label="anchor" href="#arg-opt-lib"></a></dt>
<dd><p>A character vector with the names of a subset of SAGA-GIS
libraries. Used to link only a subset of named SAGA-GIS tool libraries,
rather than creating functions for all available tool libraries.</p></dd>


<dt id="arg-temp-path">temp_path<a class="anchor" aria-label="anchor" href="#arg-temp-path"></a></dt>
<dd><p>The path to use to store any temporary files that are
generated as data is passed between R and SAGA-GIS. If not specified, then
the system `base::tempdir()` is used.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Logical to indicate whether to output all messages made during
SAGA-GIS commands to the R console. Default = FALSE. This argument can be
overriden by using the `.verbose` argument on each individual SAGA-GIS tool
function that is generated by `Rsagacmd::saga_gis()`.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A S3 `saga` object containing a nested list of functions for SAGA-GIS
  libraries and tools.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Initialize a saga object</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://stevenpawley.github.io/Rsagacmd/" class="external-link">Rsagacmd</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">saga</span> <span class="op">&lt;-</span> <span class="fu">saga_gis</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Alternatively initialize a saga object using file caching to handle large</span></span></span>
<span class="r-in"><span><span class="co"># raster files</span></span></span>
<span class="r-in"><span><span class="va">saga</span> <span class="op">&lt;-</span> <span class="fu">saga_gis</span><span class="op">(</span>grid_caching <span class="op">=</span> <span class="cn">TRUE</span>, grid_cache_threshold <span class="op">=</span> <span class="fl">250</span>, cores <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example terrain analysis</span></span></span>
<span class="r-in"><span><span class="co"># Generate a random DEM</span></span></span>
<span class="r-in"><span><span class="va">dem</span> <span class="op">&lt;-</span> <span class="va">saga</span><span class="op">$</span><span class="va">grid_calculus</span><span class="op">$</span><span class="fu">random_terrain</span><span class="op">(</span>radius <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use Rsagacmd to calculate the Terrain Ruggedness Index</span></span></span>
<span class="r-in"><span><span class="va">tri</span> <span class="op">&lt;-</span> <span class="va">saga</span><span class="op">$</span><span class="va">ta_morphometry</span><span class="op">$</span><span class="fu">terrain_ruggedness_index_tri</span><span class="op">(</span>dem <span class="op">=</span> <span class="va">dem</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">tri</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Optionally run command and do not load result as an R object</span></span></span>
<span class="r-in"><span><span class="va">saga</span><span class="op">$</span><span class="va">ta_morphometry</span><span class="op">$</span><span class="fu">terrain_ruggedness_index_tri</span><span class="op">(</span>dem <span class="op">=</span> <span class="va">dem</span>, .intern <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Initialize a saga object but do not automatically save all results to</span></span></span>
<span class="r-in"><span><span class="co"># temporary files to load into R. Use this if you are explicitly saving each</span></span></span>
<span class="r-in"><span><span class="co"># output because this will save disk space by not saving results from tools</span></span></span>
<span class="r-in"><span><span class="co"># that output multiple results that you may be want to keep.</span></span></span>
<span class="r-in"><span><span class="va">saga</span> <span class="op">&lt;-</span> <span class="fu">saga_gis</span><span class="op">(</span>all_outputs <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Steven Pawley.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

